{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Libvirt Provider","text":"<p>The <code>libvirt-provider</code> project is a Libvirt based provider implementation of the ironcore types</p> <pre><code>graph TD\n    libvirt-provider -. implements .-&gt; storage.ironcore.dev</code></pre> <p>Namely <code>libvirt-provider</code> implements the <code>Machine</code> type. Additionally, it announces the available <code>MachineClasses</code> which are supported by the <code>MachinePool</code> based on configured criteria.</p> <p>Further information about the architecture and concepts of the <code>libvirt-provider</code> project can be found in the architecture section.</p>"},{"location":"architecture/","title":"Architecture","text":"<p>This section covers the core concepts of the <code>libvirt-provider</code> project.</p> <p>The <code>libvirt-provider</code> is an implementor of the <code>ironcore runtime interface</code> (<code>IRI</code>) for <code>Machines</code>, it implements the MachineRuntime</p> <p>A <code>libvirt-provider</code> is usually deployed along with a poollet. A poollet resolves dependencies, e.g. a secrets, and calls with the consolidated resource the <code>libvirt-provider</code>.  The <code>libvirt-provider</code> persists the required state and reconciles the resource in an asynchronous manner. </p> <p>The <code>libvirt-provider</code> interacts directly with a defined <code>libvirt</code> instance on the host.  A <code>Machine</code> is provisioned by creating a <code>domain xml</code>. If needed, images are downloaded, NICs are configured and volumes are attached.</p> <p>The following diagram visualizes the interplay of the different components:  <pre><code>graph TD\n    C([libvirt-provider])\n    P([machinepoollet])\n\n    P -- announces --&gt; VP[MachinePool]\n    P -- watches --&gt; V[Machines]\n\n    P -- uses IRI --&gt; C\n\n    C -- creates --&gt; I[Libvirt Domain XML]\n    C -- defines --&gt; VC[Supported MachineClasses]</code></pre></p>"}]}